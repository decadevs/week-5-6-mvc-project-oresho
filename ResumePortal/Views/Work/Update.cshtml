@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model ResumePortal.Models.ViewModels.WorkHistoryViewModel;

<h1>Update Work History</h1>

<form method="post">
    <div class="mt-3">
        <label class="form-label">Company Name</label>
        <input type="text" class="form-control" placeholder="@Model.CompanyName" asp-for="CompanyName" />
    </div>

    <div class="mt-3">
        <label class="form-label">Job Title</label>
        <input type="text" class="form-control" placeholder="@Model.JobTitle" asp-for="JobTitle" />
    </div>

    <div class="mt-3">
        <label class="form-label">Job Description</label>
        <input type="text" class="form-control" placeholder="@Model.JobDescription" asp-for="JobDescription" />
    </div>

    <div class="mt-3">
        <label class="form-label">Start Date</label>
        <input type="date" class="form-control" placeholder="@Model.StartDate" asp-for="StartDate" />
    </div>

    <div class="mt-3">
        <input type="checkbox" class="form-check-input" id="IsStillWorkingHere" asp-for="IsStillWorkingHere" />
        <label class="form-check-label" placeholder="@Model.IsStillWorkingHere" for="IsStillWorkingHere">Are you still working here?</label>
    </div>

    <div class="mt-3" id="end-date">
        <label class="form-label">End Date</label>
        <input type="date" class="form-control" placeholder="@Model.EndDate" asp-for="EndDate" />
    </div>

    <div class="mt-3">
        <label class="form-label">Street</label>
        <input type="text" class="form-control" placeholder="@Model.Street" asp-for="Street" />
    </div>

    <div class="mt-3">
        <label class="form-label">City</label>
        <input type="text" class="form-control" placeholder="@Model.City" asp-for="City" />
    </div>

    <div class="mt-3">
        <label class="form-label">State</label>
        <input type="text" class="form-control" placeholder="@Model.State" asp-for="State" />
    </div>

    <div class="mt-3">
        <label class="form-label">Country</label>
        <input type="text" class="form-control" placeholder="@Model.Country" asp-for="Country" />
    </div>

    <div class="mt-3">
        <button type="submit" class="btn btn-primary">Save</button>
    </div>
</form>

<script type="text/javascript">
    function validate() {
        var isStillWorkingCheckbox = document.getElementById('IsStillWorkingHere');
        var endDateDiv = document.getElementById("end-date");

        isStillWorkingCheckbox.addEventListener('change', function () {
            if (isStillWorkingCheckbox.checked) {
                endDateDiv.style.display = 'none';
            } else {
                endDateDiv.style.display = 'block';
            }
        });

        // Initial validation on page load
        if (isStillWorkingCheckbox.checked) {
            endDateDiv.style.display = 'none';
        }
    }

    // Call the validate function when the document is loaded
    document.addEventListener('DOMContentLoaded', function () {
        validate();
    });
</script>